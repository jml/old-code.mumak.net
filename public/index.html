
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mere Code</title>
  <meta name="author" content="Jonathan Lange">

  
  <meta name="description" content="I don&#8217;t get a whole lot of time to hack on things outside of work. Maybe one or two slots of about two hours in a good week. What I want is &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://code.mumak.net/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Mere Code" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">(</div>
  	<div id="logoText">jml</div>
  	<div id="logoRight">)</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Mere Code</a></h1>
  
    <h2>Diverse Topics of General Interest to the Practicing Programmer</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:code.mumak.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About this blog</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2013/04/deliberately-being-naughty.html">Deliberately being naughty</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-04-29T00:00:00+01:00" pubdate data-updated="true">2013-04-29 Monday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I don&#8217;t get a whole lot of time to hack on things outside of work. Maybe one or two slots of about two hours in a good week. What I want is for that time to be fun, creative, and hopefully useful for others.<br /><br />When I do get such discretionary time, what I often end up doing is code review. I believe that finishing things is more important than starting them, and know how much it sucks to be waiting for someone to review your code.<br /><br />So, I&#8217;ll do a couple of code reviews (some of which might be strictly blocking on me). And then I&#8217;ll run out of time.<br /><br />This means I rarely work on anything I actually find fun. Code reviews are rarely fun.<br /><br />There&#8217;s a similar, related thing working on a project that&#8217;s got a backlog of code reviews, like, say Twisted. Twisted has forty or fifty patches right now that are waiting for someone to review them. Do I want to fix bugs in Twisted? That would be contributing to the patch problem, so probably not. Do I want to do code reviews? Well, I guess I should, but I&#8217;ll probably find something else to do instead.<br /><br />I don&#8217;t think Twisted should change its policy. I think the solution is for people like me to volunteer more time doing something they don&#8217;t necessarily enjoy for the sake of achieving some broader, nobler outcome.<br /><br />However, for me to sustain myself and keep enjoying open source and my chosen career, I&#8217;ve decided to make sure that I regularly schedule &#8220;naughty time&#8221;. That&#8217;s going to be time where I don&#8217;t work on the thing that I should be working on, but instead play with something I find interesting at the time, even if it&#8217;s not the best thing to do.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2013/02/testtools-moved-to-github.html">testtools moved to Github</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-02-13T00:00:00+00:00" pubdate data-updated="true">2013-02-13 Wednesday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Those who closely follow <a href="http://pypi.python.org/pypi/testtools">testtools</a> development will notice something unusual in the 0.9.28 release: we now <a href="https://github.com/testing-cabal/testtools/">host the code on Github</a> rather than <a href="https://launchpad.net/testtools/">on Launchpad</a>.<br /><br />There are a few reasons behind the switch, but the biggest one is that the ecosystem of tools and services around Git &amp; Github is much, much larger than that around Launchpad &amp; Bazaar. &nbsp;Already, by using Travis (thanks <a href="https://github.com/kampka/">kampka</a>!), I&#8217;ve been able to kill off an old, cruddy, insecure Jenkins installation on my server, and actually get proper testing across all of the Python versions that testtools supports. &nbsp;No more, &#8220;oops, I broke 3.2&#8221; again.<br /><br />We still <a href="https://bugs.launchpad.net/testtools/+bugs">track our bugs on Launchpad</a>, because Launchpad&#8217;s bug tracker is still our favourite.<br /><br />Happy hacking!<br /><br /></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2013/02/are-single-variable-names-evil.html">Are single letter variable names evil?</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2013-02-08T00:00:00+00:00" pubdate data-updated="true">2013-02-08 Friday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A colleague recently asked the question, “Are single letter variable names
evil?”. He was trolling, and I kind of knew it, but gosh, what an excuse to
rant about code clarity! My comments ended up being multiple pages long, so
taking one of <a href="http://mary.gardiner.id.au/">Mary Gardiner</a>’s suggestions to
heart (although I’m sure she regrets it now), I’ve turned it into a blog post.</p>

<p>In a nutshell, I don’t think single variable names are evil. Lots of the time
they are a bad idea though.</p>

<p>The classic rule of thumb I’ve heard is that “the length of the variable name
should be proportional to the log of the size of the scope”. I can’t find who
said that originally. My
<a href="http://www.jetcafe.org/jim/c-style.html">best guess is Mike Haertel</a>. It
seems to be a good rule of thumb.</p>

<p>But the corollary is that sometimes when the code is confusing, the problem
isn’t short variable names, it’s that the scope is too large.</p>

<p>Perhaps there’s also something to be said for shorter names being more useful
for really generic code? I’m OK with an implementation of map taking either
<code>f</code> and <code>xs</code> or <code>function</code> and <code>things</code>. I don’t think either is better or
worse.</p>

<p>And maybe single letter variable names are acceptable when they are the
standard terms for the problem domain. <code>(x, y)</code> might be clearer than
<code>(horizontal_position, vertical_position)</code>.</p>

<p>Finally, Python’s idiomatic filtering strongly encourages short names, because
you have to repeat it three times within the scope of one expression:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">meaningfully_named_list_of_things</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">relevance</span> <span class="o">&gt;</span> <span class="n">THRESHOLD</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>vs:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="p">[</span><span class="n">meaningful_name</span>
</span><span class='line'> <span class="k">for</span> <span class="n">meaningful_name</span> <span class="ow">in</span> <span class="n">meaningfully_named_list_of_things</span>
</span><span class='line'> <span class="k">if</span> <span class="n">meaningful_name</span><span class="o">.</span><span class="n">relevance</span> <span class="o">&gt;</span> <span class="n">THRESHOLD</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>It’s probably subjective, but I think the second one is less clear, since it
obscures what’s going on.﻿ Bice Dibley points out that in these list
comprehensions, <code>x</code> functions much like a pronoun in English.</p>

<p>As is the case when writing prose, being clear is hard. Rules can help –
taking knowledge and distilling it into formal principles is one of the best
ways for us to progress as a species! – but as Orwell said:</p>

<blockquote><p>Break any of these rules sooner than say anything outright barbarous.</p><footer><strong>George Orwell</strong> <cite>Politics and the English Language</cite></footer></blockquote>


<p>(And <a href="http://mumak.net/stuff/your-code-sucks.html">asking</a>
<a href="http://blog.labix.org/2013/02/06/ethics-for-code-reviewers">someone</a> to
<a href="http://www.codinghorror.com/blog/2006/01/code-reviews-just-do-it.html">look over</a>
it soon will probably spare
<a href="http://www.osnews.com/story/19266/WTFs_m">troubles later</a>)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/12/getting-set-up-with-twisted-development.html">Getting set up with Twisted development</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-12-15T00:00:00+00:00" pubdate data-updated="true">2012-12-15 Saturday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I haven&#8217;t contributed much to Twisted recently, but today I&#8217;d really like to get my <a href="http://twistedmatrix.com/trac/ticket/6180">new Deferred documentation </a>ready for review.<br /><br />To my knowledge, the only sensible way to actually work on Twisted code is using <a href="http://twistedmatrix.com/trac/wiki/Combinator">Combinator</a>. With it, I can make branches, commit to those branches, merge in updates from trunk and when my branch is approved, actually land it. All of this is described more fully in Twisted&#8217;s pioneering <a href="http://twistedmatrix.com/trac/wiki/UltimateQualityDevelopmentSystem">Ultimate Quality Development System</a>.<br /><br />Combinator works by convention, so its source <i>must</i>&nbsp;live within a <span style="font-family: Courier New, Courier, monospace;">Divmod/trunk</span> directory. Since I have the divmod.org code in a colocated Bazaar branch in <span style="font-family: Courier New, Courier, monospace;">~/src/divmod.org</span>, I created a new directory under <span style="font-family: Courier New, Courier, monospace;">~/src/</span> called Divmod and symlinked trunk to it, approximating the instructions on the <a href="http://twistedmatrix.com/trac/wiki/Combinator">Combinator page</a>.<br /><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ cd src</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ mkdir Divmod</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ cd Divmod</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ ln -s ~/src/divmod.org trunk</span><br /><br />Trying to actually use Combinator only got me stack traces and warnings though, so I poked around in the source code and now have a shell script in ~/src/combinator.sh that does this:<br /><br /><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; export COMBINATOR_PROJECTS=/home/jml/src</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; eval `python ~/src/Divmod/trunk/Combinator/environment.py`</span><br /><div><br /></div><div>Sourcing that script works:</div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ . &nbsp;~/src/combinator.sh</span></div><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">After that, I blew away my checkout of Twisted and made a newer, Combinator-friendly one:</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ rm -rf ~/src/Twisted</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; $ chbranch Twisted trunk \</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; svn+ssh://svn.twistedmatrix.com/svn/Twisted/trunk</span><br /><div><br /></div><div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">All a little bit of a hassle, but worth it to get back into the swing of contributing to Twisted.</span></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Jonathan Lange<span class='comment-date'> on 2012-12-18 09:08</span></div>
<div class='content'>
Thanks.  This is largely written so I can refer to it later.<br /></div>
</div>
<div class='comment'>
<div class='author'>glyph<span class='comment-date'> on 2012-12-18 07:09</span></div>
<div class='content'>
Thanks for posting the refresher.  I hope we can make it less necessary for people to jump through this hoop in the future, but until we do that it&#39;s nice to have people making these ad-hoc updates to the docs!</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/11/whats-wrong-with-orms.html">What&#8217;s wrong with ORMs</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-20T00:00:00+00:00" pubdate data-updated="true">2012-11-20 Tuesday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I was recently reading about <a href="http://research.google.com/pubs/pub38125.html">F1, Google&#8217;s fault-tolerant distributed RDBMS</a> and came across this neat little summary of what&#8217;s wrong with ORMs.<br /><br /><ol><li>Obscured database operations</li><li>Serial reads</li><li>Implicit traversal</li></ol><div><i>Obscured database operations</i>&nbsp;essentially means that when scanning code, you cannot easily tell which code is going to kick off a network round-trip to the database. If you care about writing code that performs well, it&#8217;s pretty important to know.</div><div><br /></div><div><i>Serial reads</i> are what many in my circles know as &#8221;<a href="http://divmod.readthedocs.org/en/latest/philosophy/potato.html">potato programming</a>&#8221;. When you have a loop, and something inside that loop is doing a query, that&#8217;s potato programming. Again, disastrous for performance.</div><div><br /></div><div><i>Implicit traversal</i>&nbsp;is doing unwanted joins and loading unnecessary data. ORMs tend to load up an object with all of its instance variables, which often means traversing the graph of references.</div><div><br /></div><div>Anyway, this is a much handier answer to have than &#8216;google for &#8221;<a href="http://blogs.tedneward.com/2006/06/26/The+Vietnam+Of+Computer+Science.aspx">Vietnam of Computer Science</a>&#8221;&#8217;, which is fascinating but rather lengthy. (See also <a href="http://www.codinghorror.com/blog/2006/06/object-relational-mapping-is-the-vietnam-of-computer-science.html">Jeff Atwood&#8217;s summary</a>).</div><div><br /></div><div>For bonus points, these three things are also what&#8217;s wrong with&nbsp;<a href="https://help.launchpad.net/API">Launchpad&#8217;s API</a>.</div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Jonathan Lange<span class='comment-date'> on 2012-11-21 10:10</span></div>
<div class='content'>
For 1 for Launchpad&#39;s API, change &quot;database&quot; to &quot;remote&quot;.  It&#39;s really easy to accidentally do something with a launchpadlib object that makes it hit the network, giving your lucky, lucky users another roundtrip to wait on.</div>
</div>
<div class='comment'>
<div class='author'>Aaron Bentley<span class='comment-date'> on 2012-11-21 04:46</span></div>
<div class='content'>
I agree about 2 and 3 affecting Launchpad&#39;s API.  For 1, don&#39;t all Launchpad API operations hit database?  And so how is that obscure?  Unless you mean Launchpadlib there.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/11/a-modest-success.html">A Modest Success</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-11-09T00:00:00+00:00" pubdate data-updated="true">2012-11-09 Friday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Over the last few months, James Westby and I have been working on automatic packaging. I want to talk today not about the thing itself but rather how we go about making it, because I think that we have got a fairly good process going.  <br /><br />Here&#8217;s what it looks like.<br /><br /><b>Conception</b><br /><b><br /></b>We pull the work that we do from a backlog of ideas and requests. For example, a little while ago, we did some experiments that showed that if we changed the way we mapped libraries to Ubuntu packages, we could get much better results for automatically packaging binary apps. The project to change this ended up in our backlog, and we recently decided to work on it.<br /><br />Before we begin work, we like to have a definition of &#8220;done&#8221;. We also write down why we are doing this, and what our assumptions are. We then break things up into tasks. Maybe I&#8217;ll dig into this another time.<br /><br /><b>Guts</b><br /><b><br /></b>Most of what we do goes in a loop:<br /><br /><ol><li>Make a branch</li><li>Work on it</li><li>Propose for merging</li><li>Code review</li><li>Automated tests-then-land</li><li>Automatically triggered staging deploy</li><li>Manual &#8220;is it deployable&#8221; check</li><li>Request production deployment from webops&nbsp;</li></ol><div>We use Bazaar for version control and we use Launchpad for hosting code and doing code review. Here&#8217;s <a href="https://code.launchpad.net/~jml/pkgme-service/remove-django-fixture/+merge/131424">an example one</a>.</div><div><br /></div><div>Code review is quite often fairly boring. My guess is that one in ten actually provoke interesting changes. Most of our branches make small changes, all of our changes are covered with tests, and we have confidence in our test suite and our ability &amp; willingness to make follow-up improvements. Thus, rather than seeing code review as our last line of defence for ensuring code quality, it&#8217;s an opportunity to learn and to perhaps accelerate the process by spotting problems earlier.</div><div><br /></div><div>Once a merge proposal is approved, magic happens.</div><div><br /></div><div>In this case, &#8220;magic&#8221; is a Jenkins instance that uses tarmac to poll Launchpad to figure out which merge proposal are approved and thus ready to land. &nbsp;It runs our test suite, and if it passes, lands the change. If it fails, it posts the failure to the merge proposal and our IRC channel and marks it as needing more work.<br /><br />It&#8217;s important here that our test suite is fast, that it&#8217;s reliable, and that it gives useful error messages when things fail.</div><div><br /></div><div>When the change is to a dependency, then we run the tests of the things that depend on it with the latest change.</div><div><br /></div><div>After a successful change to trunk, we have a Jenkins job that triggers an automatic deployment to our staging server.</div><div><br /></div><div>All of this takes less than five minutes.</div><div><br /></div><div>Once it&#8217;s on staging, our &#8220;QA&#8221; website lists it as a revision that needs to be manually verified. What we do there isn&#8217;t really QA, but instead making sure that if we roll it out to production, we won&#8217;t break anything. As with code review, we are confident in our ability to fix things later. &nbsp;&nbsp;</div><div><br /></div><div>We tend to do these in batches, as our webops are insanely busy. Once we&#8217;ve got a group of changes that are safe to deploy to production, we ping the webops, who then (I think) run a single command that deploys to production very quickly. Sometimes because of interrupts, it can take twenty minutes to an hour to get someone to do this.</div><div><br /></div><div><b>Completion</b></div><div><br /></div><div>At this stage, we return to our definition of done and check to see if the change actually provides the value we thought.&nbsp;</div><div><br /></div><div>Because automatic packaging is an inherently fuzzy problem, we run a barrage of real world data through the new system to see if the recent changes actually help. This also generates interesting qualitative data that gives us hints on where we might want to work next.</div><div><br /></div><div><b>Principles</b></div><div><b><br /></b></div><div>This is the end result of a lot of work, mostly by James Westby with me cheerleading from the sidelines. We&#8217;ve iterated through it a lot, making things faster and more reliable, generally by going from polling to events, by cutting out unnecessary review steps, and by making visibility improvements for when things are broken.</div><div><br /></div><div>Underlying it all are a few principles that we have found to be either true or useful:</div><div><ul><li>a thing is not done until users are happily using it</li><li>more strongly, a thing is not valuable until users are happily using it, until then it is wasted effort&nbsp;</li><li>we should be able deploy any change in the main code or a dependency within minutes at any time, every time</li><li>all deployments must be from trunk, all revisions of trunk must be tested and known-good</li><li>we can avoid a lot of needless effort by asking ourselves why we are doing what we doing, and by being explicit about our assumptions</li><li>regressions are intolerable, everything else is tolerable, because we can, will and do fix it</li></ul><div>Rather than spend time shaping up this information into a pitch for why doing things our way will bring you fortune and glory, we just want to use this post to do the bare minimum of making what we are doing known more broadly.<br /><br />Do you do something similar? Is there something above that you would like to know more about? Are we making claims that seem a bit far-fetched? Are any of our principles BS? Have you tried working toward goals like these?<br /><br />We would really love to know and to hear from you. It will help us get better. Also,&nbsp;I&#8217;ve deliberately fudged some stuff, so it&#8217;d be great to get called out on that.<br /><br />Thanks to James Westby for reviewing this post. All errors are mine.<br /><br /></div></div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/10/undistract-me-redux.html">Undistract me (redux)</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-10-04T00:00:00+01:00" pubdate data-updated="true">2012-10-04 Thursday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<a href="http://code.mumak.net/2012/01/undistract-me.html">In January</a>, I told you all about a terminal hack to help me recover from the inevitable distraction that comes when I run commands that take a while to run (for me, mostly test suites).<br /><br />I&#8217;ve been using the hack since then, and it has given me a great deal of pleasure. Others have watched it and said that they very much wanted it.<br /><br />As such, you can now go to the <a href="http://mumak.net/undistract-me/">undistract-me</a>&nbsp;website to get instruction on how to download and install it. Or, if you&#8217;re using Ubuntu:<br /><blockquote class="tr_bq"><pre style="background-color: whitesmoke; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); color: #333333; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; line-height: 20px; margin-bottom: 10px; padding: 9.5px; white-space: pre-wrap; word-break: break-all; word-wrap: break-word;">$ sudo add-apt-repository ppa:undistract-me-packagers/daily<br />$ sudo apt-get update<br />$ sudo apt-get install undistract-me</pre></blockquote>Once you&#8217;ve done that, and have started a new login shell, then you&#8217;ll get a notification whenever a command that takes more than 10 seconds to run finally completes.<br /><br />Thanks to <a href="http://glyph.twistedmatrix.com/">Glyph Lefkowitz</a> for <a href="http://www.twistedmatrix.com/users/glyph/preexec.bash.txt">the preexec hack </a>that made this possible, and to <a href="http://www.tenshu.net/">Chris Jones</a>, <a href="http://fewbar.com/">Clint Byrum</a> and <a href="http://mvogt.wordpress.com/">Michael Vogt</a> for their help in figuring out what I should do.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Jonathan Lange<span class='comment-date'> on 2012-10-04 16:06</span></div>
<div class='content'>
Thanks for the bug!  I&#39;ve replied in detail there.</div>
</div>
<div class='comment'>
<div class='author'>Andrew<span class='comment-date'> on 2012-10-04 14:41</span></div>
<div class='content'>
undistract-me doesn&#39;t work for me in Ubuntu 12.10. I&#39;ve filed a bug: https://bugs.launchpad.net/undistract-me/+bug/1061611</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/08/rigor-mortis.html">Rigor mortis?</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-08-31T00:00:00+01:00" pubdate data-updated="true">2012-08-31 Friday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I&#8217;ve been on a bit of a sanity bender recently: science, logic, evidence, experimentation, clarity and things like that. Here&#8217;s a short list of some of the things I&#8217;ve been reading:<br /><br /><ul><li><a href="http://hpmor.com/">Harry Potter and the Methods of Rationality</a>&nbsp;(H/T mwhudson)</li><li><a href="http://www.amazon.co.uk/Straight-Crooked-Thinking-Robert-Thouless/dp/1444117181">Straight and Crooked Thinking</a></li><li><a href="http://www.pretotyping.org/">Pretotype It</a>&nbsp;(H/T lifeless)</li><li><a href="http://www.gbt.org/text/sayers.html">Lost Tools of Learning</a></li><li><a href="http://www.amazon.com/Facts-Dangerous-Half-Truths-Total-Nonsense/dp/1591398622/">Hard Facts, Dangerous Half-Truths and Total-Nonsense</a>&nbsp;(H/T lifeless)</li><li><a href="http://glinden.blogspot.co.uk/2012/07/puzzling-outcomes-in-ab-testing.html">Puzzling outcomes in A/B testing</a></li><li><a href="https://www.mtholyoke.edu/acad/intrel/orwell46.htm">Politics and the English Language</a></li></ul><br />If you&#8217;re writing software then I recommend &#8220;Pretotype It&#8221; first, because it&#8217;s likely to make you write <i>less</i>&nbsp;software, and that can only be a good thing. They are all great reads though.<br /><br />There are a few general themes: be explicit about your assumptions and try to verify or falsify them as soon as you may; do experiments; beware of certain mistakes or logical short-cuts; learn statistics; understand what you are saying.&nbsp;Wonderful notions all, but I&#8217;m not sure whether they are working out for me.<br /><br />Occasionally I&#8217;ll get an email that has a couple of sentences but somehow manages to squeeze in all sorts of conflations, non sequiturs, and general fudging. It&#8217;s hard to know where to begin. I can make a fair stab at analyzing the errors, but synthesizing a response that actually <i>helps</i>&nbsp;is very hard.<br /><br />Rigour also puts a restraint on rhetoric. It&#8217;s hard to say something convincingly when you have a bunch of qualifiers dangling at the end. My writing (even now!) is slowed down as I notice the unfounded assertions and unstated assumptions that lie behind it.<br /><br />Also, much of this doesn&#8217;t help you get from a vague, interesting intuition to a workable idea, from hunch to hypothesis, if you will. Sometimes a notion needs to time to grow before it&#8217;s rejected as irrational or incorrect. Something like&nbsp;<a href="http://en.wikipedia.org/wiki/Six_Thinking_Hats">Thinking Hats</a>&nbsp;can help here.<br /><br />This is all peanuts though. Do more science. Really.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>glyph<span class='comment-date'> on 2012-09-02 00:56</span></div>
<div class='content'>
I find that, when confronted with a muddled mess of ideas in email, friendly, direct communication is best.  Especially because people will almost always surprise you with their capacity to improve their communications, and you&#39;ll rarely have to write a &quot;these are the twenty-seven logical fallacies that you have committed in this message&quot; kind of message twice.<br /><br />It can take some practice to make this kind of communique not come off as super condescending, but it&#39;s definitely doable.  The trick is to keep the focus on the communication and not the person or the ideas.</div>
</div>
<div class='comment'>
<div class='author'>Jelmer<span class='comment-date'> on 2012-09-01 15:22</span></div>
<div class='content'>
I just finished Pretotyping; that was an interesting and useful read. Thanks for the suggestion.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/07/testtools-history-and-future.html">testtools: history and future</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-07-21T00:00:00+01:00" pubdate data-updated="true">2012-07-21 Saturday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<br />Before I started <a href="http://testtools.rtfd.org/">testtools</a> I was switching regularly between <a href="http://bazaar.canonical.com/">bzr</a>, <a href="https://launchpad.net/launchpad">Launchpad</a> and <a href="http://twistedmatrix.com/">Twisted</a> and was sick of one excellent testing innovation being available in one and not the other. I tried submitting some of the improvements to Python. They were either ignored or rejected.<br /><br />Also, as the maintainer of Twisted&#8217;s testing framework, Trial, I had been burned several times when the standard library would change its API in backwards compatible ways, so I wanted something that would encapsulate all of that once and for all.<br /><br />So, to provide a temporary ground between big, upstream projects that are serious about testing and Python&#8217;s standard library, I made the project that was to become testtools. (It was originally called pyunit3k. Sorry.).<br /><br />Its constraints were that it should work with Python 2.4, 2.5, 2.6, 2.7 and 3.1 (Bazaar, Launchpad &amp; Twisted all cared about Python 2.4 at the time), that any code in it should be allowed to go into Python without special permission from contributors, and that it wasn&#8217;t to have any frivolous innovation, patches should be of code proven to be useful elsewhere.<br /><br />Then eventually Michael Foord started maintaining Python&#8217;s standard unittest. While we haven&#8217;t always seen eye-to-eye on the details, it&#8217;s definitely been a huge improvement, and Michael deserves props for doing a job that I was unwilling to do. Releasing <a href="http://pypi.python.org/pypi/unittest2/">unittest2</a> was a great step, and I think a good model of how any standard library maintenance should be done.<br /><br />Since then, we&#8217;ve lightened the restraint on innovation in testtools, and the last release was our last release to support Python 2.4 and 2.5. The people who use it really love it, we&#8217;ve had plenty of contributors, I use it on heaps of projects, and it certainly makes my job much, much easier. &nbsp;<span style="background-color: white;">Launchpad and Bazaar use it, but Twisted probably won&#8217;t ever, so that&#8217;s 66% success according to my original motivation.&nbsp;</span><br /><div><br /></div><div>I wish more people would use testtools. Actually, no, that&#8217;s not right. I wish more people would use the things in testtools. If people do that, it makes it easier for me to contribute to their code, and makes using their testing innovations much easier.&nbsp;</div><div><br /></div><div>As such, I&#8217;m hoping to try to get some of the most useful bits (<a href="http://testtools.readthedocs.org/en/latest/for-test-authors.html#matchers">matchers</a> first) into upstream Python. Wish me luck.</div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/2012/07/complexity-and-capability.html">Complexity and capability</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-07-21T00:00:00+01:00" pubdate data-updated="true">2012-07-21 Saturday</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
&#8220;You might think that some people are better at understanding complexity than others, but relative to the sheer scale of the complexity that we can all create, we are all about the same.&#8221;<br /><br />I think Rich Hickey said this. It&#8217;s true.</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/04/deliberately-being-naughty.html">Deliberately being naughty</a>
      </li>
    
      <li class="post">
        <a href="/2013/02/testtools-moved-to-github.html">testtools moved to Github</a>
      </li>
    
      <li class="post">
        <a href="/2013/02/are-single-variable-names-evil.html">Are single letter variable names evil?</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/getting-set-up-with-twisted-development.html">Getting set up with Twisted development</a>
      </li>
    
      <li class="post">
        <a href="/2012/11/whats-wrong-with-orms.html">What&#8217;s wrong with ORMs</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jml">@jml</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jml',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/jonathan.lange?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Jonathan Lange -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
