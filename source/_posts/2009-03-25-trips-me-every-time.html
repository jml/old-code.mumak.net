---
layout: post
title: "Trips me every time"
date: 2009-03-25
comments: false
---

<div class='post'>
<a href="http://twitter.com/etrepum">etrepum</a> <a href="https://twitter.com/etrepum/status/1385947605">commented</a> on how hash functions need to be idempotent. I pretty much always interpret things about functions and <a href="http://en.wikipedia.org/wiki/Idempotent">idempotence</a> incorrectly.<br /><br />When used in computing, saying a function is idempotent generally means you can call it a hozillion times and the state of the system (&amp; thus the return value of the function) will be the same as if you called it once.<br /><br />When used in mathematics, a function <span style="font-style: italic;">f</span> is idempotent if <span style="font-style: italic;">f(f(x)) = f(x)</span> for all <span style="font-style: italic;">x</span>. The computing quality of idempotence isn't useful since <span style="font-style: italic;">f(x) = f(x)</span>.<br /><br />I would greatly appreciate it if we could all find a way to communicate that didn't involve language.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>ddaa</div>
<div class='content'>
Michael Hudson: Oh right! I remember now.<BR/><BR/>Actually, idempotency in the computing sense is only meaningful where there ARE side effects.<BR/><BR/>For a couple of pythonic examples: "a[b] = c" where a is a list IS idempotent. But "a.pop()" is not.<BR/><BR/>Since the last thing you want from a hash function is to mutate its argument, the only meaningful sense for "idempotent hash function" is the mathematical one.<BR/><BR/>And etrepum is confused.</div>
</div>
<div class='comment'>
<div class='author'>Michael Hudson</div>
<div class='content'>
Idempotency (in computing) is not the same as side-effect free, or always returning the same value for the same arguments, but rather than calling it multiple times has the same effect as calling it once.  Bob is perhaps using bigs words where simple ones would do :)<BR/><BR/>Alex is right that this is the same as the mathematical definition if you view the state of the world as implicitly passed to and returned from every function you call.</div>
</div>
<div class='comment'>
<div class='author'>larstiq</div>
<div class='content'>
Oh feh, I had to reread your quote of Bob and then his original post before I got it not being what I thought it was.<BR/><BR/>I do use idempotent in computing in the mathy way, but maybe that is because I'm a math student.</div>
</div>
<div class='comment'>
<div class='author'>Alex</div>
<div class='content'>
The mathematics definition of idempotent sort of makes sense in computing if you view a function as taking a state and returning the state of the system after the function is applied.<BR/><BR/>Then the property f(f(x)) = f(x) seems like a desirable one if equality is replaced by some equivalence relation<BR/><BR/>This is still weaker than invariance of f though...</div>
</div>
<div class='comment'>
<div class='author'>ddaa</div>
<div class='content'>
Oh, a new pet peeve!<BR/><BR/>From now on I'll make it a point that "idempotent" DOES mean "f(f(x)) = f(x)".<BR/><BR/>I did not realize that people were using it with this other, incorrect meaning.<BR/><BR/>f(x)=f(x) is invariant, or referentially transparent, or side-effect free, whatever. Real idempotence is a useful property to be able to name in computing.<BR/><BR/>Join me and embrace the joy of self-righteousness!</div>
</div>
<div class='comment'>
<div class='author'>jml</div>
<div class='content'>
Sure. <BR/><BR/>I guess my point is that the clarity of the terms depends on the domain that you are speaking in.</div>
</div>
<div class='comment'>
<div class='author'>Eric</div>
<div class='content'>
You could just say that the function need be referentially transparent.</div>
</div>
</div>
