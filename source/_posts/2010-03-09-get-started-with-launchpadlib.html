---
layout: post
title: "Get started with launchpadlib"
date: 2010-03-09
comments: false
---

<div class='post'>
In my spare time, I sometimes talk to people about how they can get started with launchpadlib hacking.<br /><br />launchpadlib is the Python client-side library that talks to Launchpad's own <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> API. It turns out that customize scripted control of a <a href="https://launchpad.net/">bug-tracker-code-hosting-translation-distribution-building-cross-project-collaboration thing</a> is actually quite handy.<br /><br />If you want to get started hacking with launchpadlib, and you have Ubuntu, then install 'python-launchpadlib' now. I'm pretty sure you can also get it from PyPI.<br /><br />You can check that it works by running:<span class="Apple-style-span"   style="font-family:monospace;font-size:100%;"><span class="Apple-style-span"  style=" white-space: pre;font-size:13px;"><span class="Apple-style-span"   style="font-family:Georgia, serif;font-size:130%;"><span class="Apple-style-span"  style=" white-space: normal;font-size:14px;"><br /></span></span></span></span><pre>$ python<br />>>> import launchpadlib<br />>>> launchpadlib.__version__<br />'1.5.1'<br /></pre><br />I'll be assuming you're running 1.5.1 or later.<br /><br />I've written a very simple launchpadlib application that you can get with 'bzr branch lp:~jml/+junk/bugstats'. Each revision shows a meaningful launchpadlib script. You can get at the old revisions with 'bzr revert -r1' or 'bzr revert -r2' or '-r3'.<br /><br />Here's what the simplest launchpadlib script that I could think of looks like:<br /><pre>import os<br />import sys<br />from launchpadlib.launchpad import Launchpad, STAGING_SERVICE_ROOT<br /><br />APP_NAME = 'jml-bug-stats'<br />CACHE_DIR = os.path.expanduser('~/.launchpadlib/cache')<br />SERVICE_ROOT = STAGING_SERVICE_ROOT<br /><br />launchpad = Launchpad.login_with(APP_NAME, SERVICE_ROOT, CACHE_DIR)<br />print launchpad.bugs[1].title<br /></pre>(Adapted from r2 of the above branch).<br /><br />A few points.<br /><br /><ul><li>We use <code>STAGING_SERVICE_ROOT</code>, which means that we're pointing<br />at <a href="https://staging.launchpad.net/">Launchpad's staging service</a>,<br />just in case we screw up any data.</li><br /><li>We give the application a name, when you run the application, launchpadlib<br />opens up a browser window letting <i>you</i> decide how far the application<br />can act on <i>your</i> behalf.</li><li>We provide a cache directory. Credentials, among other things, get stored<br />here.<br /></li><li>We then login and get an object that represents a Launchpad instance</li><li>Once we've got it, we look at the collection of bugs, get Bug #1 and then<br />print the title</li></ul>Very simple. To learn how to write this application, I looked at the main <a href="https://help.launchpad.net/API">Launchpad API help</a> page, the<br /><a href="https://help.launchpad.net/API/Examples">examples</a> page and the <a href="https://staging.launchpad.net/+apidoc">reference documentation</a>. You'll notice that I had to translate the reference documentation from REST-speak into Python-speak.<br /><br />Already you have enough to go exploring with the Launchpad API and think of cool things to do. A bunch of people are already doing <a href="https://help.launchpad.net/Clients">cool stuff</a> and there are many <a href="https://help.launchpad.net/API/Uses">projects that use launchpadlib</a>.<br /><br />Next up, I hope to show you some more complex things you can do with the API.</div>
